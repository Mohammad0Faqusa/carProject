// Define the pins for motor control
const int motor1Pin1 = 4;  // Motor 1 terminal 1
const int motor1Pin2 = 5;  // Motor 1 terminal 2
const int motor2Pin1 = 6;  // Motor 2 terminal 1
const int motor2Pin2 = 7;  // Motor 2 terminal 2
const int enable1 = 9 ; 
const int enable2 = 3 ; 
int pwm  ; 
void setup() {
  // Set motor control pins as outputs
  pinMode(motor1Pin1, OUTPUT);
  pinMode(motor1Pin2, OUTPUT);
  pinMode(motor2Pin1, OUTPUT);
  pinMode(motor2Pin2, OUTPUT);
  pinMode(enable1 , OUTPUT) ; 
  pinMode(enable2, OUTPUT) ; 
  
  // Initialize Serial communication
  Serial.begin(9600);
}

void loop() {
  digitalWrite(enable1, HIGH) ; 
  digitalWrite(enable2, HIGH) ; 
  if (Serial.available() > 0) {
    char command = Serial.read();
    executeCommand(command);
  }
}

void executeCommand(char command) {
  switch (command) {
    case '0' : 
      pwm = 0 ; 
    case '1' :
      pwm = 25.5 ; 
    case '2' : 
      pwm = 51 ;
    case '3' :
      pwm = 76.5 ; 
    case '4' : 
      pwm = 102 ;
    case '5' :
      pwm = 127.5 ; 
    case '6' : 
      pwm = 153 ;
    case '7' :
      pwm = 178.5 ; 
    case '8' : 
      pwm = 204 ;
    case '9' : 
      pwm = 229.5 ;
    case 'q' : 
      pwm = 255 ; 
  
    case 'F':
      forward();
      break;
    case 'B':
      backward();
      break;
    case 'R':
      right();
      break;
    case 'L':
      left();
      break;
    case 'S':
      stop();
      break;
    case 'G' : 
      forwardLeft() ; 
      break; 
    case 'I' : 
      forwardRight() ; 
      break ; 
    case 'H' : 
      backLeft() ; 
      break ; 
    case 'J' : 
      backRight() ; 
      break ; 
     
     
    default:
      // Invalid command received
      Serial.println("Invalid command!");
  }
}

void forward() {
  digitalWrite(motor1Pin1, HIGH);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, LOW);
  analogWrite(enable1 , pwm) ; 
}

void backward() {
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, HIGH);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, LOW);
  analogWrite(enable1 , pwm) ; 

}

void right() {
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, HIGH);
}

void left() {
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, HIGH);
  digitalWrite(motor2Pin2, LOW);
}

void forwardLeft() { 
  digitalWrite(motor1Pin1, HIGH);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, HIGH);
  digitalWrite(motor2Pin2, LOW);
  analogWrite(enable1 , pwm) ; 
}

void forwardRight() { 
  digitalWrite(motor1Pin1, HIGH);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, HIGH);
  analogWrite(enable1 , pwm) ; 
}
void backLeft() { 
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, HIGH);
  digitalWrite(motor2Pin1, HIGH);
  digitalWrite(motor2Pin2, LOW);
  analogWrite(enable1 , pwm) ; 
}
void backRight() { 
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, HIGH);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, HIGH);
  analogWrite(enable1 , pwm) ; 
}
void stop() {
  digitalWrite(motor1Pin1, LOW);
  digitalWrite(motor1Pin2, LOW);
  digitalWrite(motor2Pin1, LOW);
  digitalWrite(motor2Pin2, LOW);
}
